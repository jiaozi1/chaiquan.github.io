webpackJsonp([3],{"5ExV":function(e,t){},"8J72":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),i=a("qk/J"),o=a("22O3"),n=a("NYxO"),c={name:"IndexDetailsForm",data:function(){return{formData:{query_user:"",start_time:"",end_time:"",case_num:"",accuracy:""},pageData:{offset:0,limit:10}}},computed:Object(n.b)({resumeCurrent:function(e){return e.resumePageConfig.current},judge_resume:function(e){return e.judge_resume},judge_resume_params:function(e){return e.judge_resume_params},isReloadData:function(e){return e.isReloadData},game_id:function(e){return e.game_id},initStartTime:function(){return this.$timeFormat((new Date).getTime()-864e5).slice(0,10)+" 00:00:00"},initEndTime:function(){return this.$timeFormat((new Date).getTime()-864e5).slice(0,10)+" 23:59:59"}}),watch:{resumeCurrent:function(e){this.pageData.offset=(e-1)*this.pageData.limit,this.checkTime(this.judge_resume_params)},judge_resume_params:function(e){1===this.resumeCurrent?this.checkTime(e):this.$store.commit("resumePageCurrent",1)},isReloadData:function(e){e&&(this.checkTime(this.judge_resume_params),this.$store.commit("isReloadData",!1))}},mounted:function(){this.checkTime(this.judge_resume_params)},methods:{checkTime:function(e){var t=this;if((""===this.formData.start_time?this.initStartTime:this.$timeFormat(this.formData.start_time))>(""===this.formData.end_time?this.initEndTime:this.$timeFormat(this.formData.end_time)))this.$onlyTxtPopShow(this.$errTxt.selectTimeErr);else{var a={start:this.formData.start_time?this.$timeFormat(this.formData.start_time):this.initStartTime,end:this.formData.end_time?this.$timeFormat(new Date(this.formData.end_time).getTime()+864e5-1):this.initEndTime},s={game_id:this.game_id,src_type:0,query_user:this.formData.query_user,start_time:a.start,end_time:a.end,case_num:this.formData.case_num,accuracy:this.formData.accuracy,offset:this.pageData.offset,limit:this.pageData.limit,order_by:e.order_by,is_descending:e.is_descending?1:0};Object(i.f)(s).then(function(e){0===e.ret?(t.$store.commit("changeJudgeResume",e.data.resume),t.$store.commit("resumePageTotal",e.data.total),0!==e.data.length&&0!==e.data.total||t.$onlyTxtPopShow(t.$errTxt.noData),Object(o.b)("start_time",a.start),Object(o.b)("end_time",a.end)):(t.formReset(),e.ret===t.$code.LOGINTIMEOUT?t.$loginOut():e.ret===t.$code.TOOLONGTIME.num?t.$onlyTxtPopShow(t.$code.TOOLONGTIME.txt):e.ret===t.$code.NOAUTHORITY.num?t.$onlyTxtPopShow(t.$errTxt.noUser):t.$onlyTxtPopShow(t.$errTxt.getDataErr))})}},formReset:function(){this.formData={query_user:"",start_time:"",end_time:"",case_num:"",accuracy:""}}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auditFiltrate"},[a("div",{staticClass:"auditFiltrate-box"},[e._m(0),e._v(" "),a("div",{staticClass:"input-box"},[a("DatePicker",{staticClass:"date-start",attrs:{type:"date",placeholder:e.initStartTime},model:{value:e.formData.start_time,callback:function(t){e.$set(e.formData,"start_time",t)},expression:"formData.start_time"}}),e._v(" "),a("DatePicker",{staticClass:"date-end",attrs:{type:"date",placeholder:e.initEndTime},model:{value:e.formData.end_time,callback:function(t){e.$set(e.formData,"end_time",t)},expression:"formData.end_time"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.query_user,expression:"formData.query_user"}],staticClass:"account-info",attrs:{type:"text"},domProps:{value:e.formData.query_user},on:{input:function(t){t.target.composing||e.$set(e.formData,"query_user",t.target.value)}}})],1),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.case_num,expression:"formData.case_num"}],staticClass:"date-start",attrs:{type:"number",onkeyup:"this.value=this.value.replace(/[^\\d]/g,'')",onafterpaste:"this.value=this.value.replace(/[^\\d]/g,'') "},domProps:{value:e.formData.case_num},on:{input:function(t){t.target.composing||e.$set(e.formData,"case_num",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.accuracy,expression:"formData.accuracy"}],staticClass:"date-end",attrs:{type:"number",onkeyup:"this.value=this.value.replace(/[^\\d]/g,'')",onafterpaste:"this.value=this.value.replace(/[^\\d]/g,'') "},domProps:{value:e.formData.accuracy},on:{input:function(t){t.target.composing||e.$set(e.formData,"accuracy",t.target.value)}}}),e._v(" %\n      "),a("p",{staticClass:"tip"},[e._v("提示：输入单数、准确率后，查询会显示大于等于输入值的结果")])]),e._v(" "),a("div",{staticClass:"select"},[a("a",{staticClass:"btn-select",attrs:{href:"javascript:;"},on:{click:function(t){e.checkTime(e.judge_resume_params)}}},[e._v("查询")]),e._v(" "),a("a",{staticClass:"btn-deal",attrs:{href:"javascript:;"},on:{click:function(t){e.$emit("changeFormComponent","index-details-power-set")}}},[e._v("批量处理")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"infor-box"},[t("p",{staticClass:"start-time"},[this._v("开始时间")]),this._v(" "),t("p",{staticClass:"end-time"},[this._v("结束时间")]),this._v(" "),t("p",{staticClass:"account"},[this._v("账号")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"infor-box"},[t("p",{staticClass:"start-time"},[this._v("审核结果筛选： 审核总单数")]),this._v(" "),t("p",{staticClass:"end-time"},[this._v("审核准确率")])])}]};var u=a("VU/8")(c,m,!1,function(e){a("xWVI")},"data-v-80bc6268",null).exports,d=a("WTbO"),l={name:"SortTableBtn",props:["chName","keyName","orderBy"],data:function(){return{active:"down"}},computed:r()({},Object(n.b)(["judge_resume","judge_resume_params"])),methods:{isRepeatClick:function(e,t){return e===this.judge_resume_params.order_by&&t===this.judge_resume_params.is_descending},sortData:function(e){this.isRepeatClick(e,!0)?this.orderInit(e):(this.active="down",this.$store.commit("judge_resume_params",{order_by:e,is_descending:!0}))},sortReverseData:function(e){this.isRepeatClick(e,!1)?this.orderInit(e):(this.active="up",this.$store.commit("judge_resume_params",{order_by:e,is_descending:!1}))},orderInit:function(){this.active="down",this.$store.commit("judge_resume_params",{order_by:1,is_descending:!0})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("th",[e._v(e._s(e.chName)+"\n  "),"user_id"!==e.keyName?a("span",{staticClass:"down",class:{on:"down"===e.active&&e.orderBy===e.judge_resume_params.order_by},on:{click:function(t){e.sortData(e.orderBy)}}}):e._e(),e._v(" "),"user_id"!==e.keyName?a("span",{staticClass:"up",class:{on:"up"===e.active&&e.orderBy===e.judge_resume_params.order_by},on:{click:function(t){e.sortReverseData(e.orderBy)}}}):e._e()])},staticRenderFns:[]};var h=a("VU/8")(l,_,!1,function(e){a("5ExV")},"data-v-37915b01",null).exports,p=a("ZzzE"),f={name:"IndexDetailsTable",components:{MyDialog:p.a,SortTableBtn:h},mixins:[d.a],props:["formComponent","powerSetEvent"],data:function(){return{op_type:{delete:2,add:1,resume:4},default_dst_level:1,deleteAuthorityId:[],sortBtnData:[{ch:"近一周",key:"week_accuracy",className:"minWidth",order_by:2},{ch:"近一月",key:"month_accuracy",className:"minWidth",order_by:3},{ch:"近一周",key:"week_judge_period",className:"minWidth",order_by:4},{ch:"近一月",key:"month_judge_period",className:"minWidth",order_by:5}],sortBtnData2:[{ch:"审判者账号",key:"user_id",order_by:0},{ch:"审判总单数",key:"total_case_num",order_by:1}],pageData:{limit:10}}},computed:r()({},Object(n.b)(["resumePageConfig","judge_resume"]),{allDeleteAuthorityId:function(){var e=[];return this.judge_resume.forEach(function(t){e.push(t.user_id)}),e}}),watch:{formComponent:function(e){"index-details-power-set"===e&&(this.deleteAuthorityId=[])}},methods:{queryAccountsDetails:function(e,t,a,s){this.$router.push({path:"accountsDetails",query:{userId:e}}),Object(o.b)("week_accuracy",a),Object(o.b)("month_accuracy",t),Object(o.b)("user_id",e),-1===s?(Object(o.b)("op_type",this.$op_type.resume),this.$store.commit("indexSelectedOpType",this.$op_type.resume)):(Object(o.b)("op_type",this.$op_type.delete),this.$store.commit("indexSelectedOpType",this.$op_type.delete))},deleteAuthority:function(e){switch(this.powerSetEvent){case"oneCancle":this.modify_user_auth(this.$op_type.delete,this.deleteAuthorityId,e,this.default_dst_level);break;case"oneResume":this.modify_user_auth(this.$op_type.resume,this.deleteAuthorityId,e,this.default_dst_level);break;case"allCancle":this.modify_user_auth(this.$op_type.delete,this.allDeleteAuthorityId,e,this.default_dst_level);break;case"allResume":this.modify_user_auth(this.$op_type.resume,this.allDeleteAuthorityId,e,this.default_dst_level);break;default:var t=Object(o.a)("op_type");this.modify_user_auth(t,this.deleteAuthorityId,e,this.default_dst_level)}},popShowDeleteAuthority:function(e,t){this.deleteAuthorityId=[],this.deleteAuthorityId.push(e),this.$store.commit("changeDialog","deleteAuthority"),Object(o.b)("op_type",t)},batchSelect:function(e){this.deleteAuthorityId.includes(e)?this.deleteAuthorityId.splice(this.deleteAuthorityId.indexOf(e),1):this.deleteAuthorityId.push(e),this.$emit("batchSelectNum",this.deleteAuthorityId.length)}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"powerTable-box"},[a("table",{staticClass:"powerTable table",attrs:{cellspacing:"1"}},[a("thead",[a("tr",["index-details-power-set"===e.formComponent?a("th",{attrs:{rowspan:"2"}},[e._v("已选择\n        "),a("span",{attrs:{id:"chooseNum"}},[e._v(e._s(e.deleteAuthorityId.length))]),e._v("人\n      ")]):e._e(),e._v(" "),e._l(e.sortBtnData2,function(e,t){return a("sort-table-btn",{key:t,staticClass:"btn-rank",class:e.className,attrs:{rowspan:"2","ch-name":e.ch,"key-name":e.key,"order-by":e.order_by}})}),e._v(" "),a("th",{attrs:{rowspan:"2"}},[e._v("无违规判定单数")]),e._v(" "),a("th",{attrs:{rowspan:"2"}},[e._v("有违规判定单数")]),e._v(" "),a("th",{staticStyle:{width:"223px"},attrs:{colspan:"2"}},[e._v("审判结果准确率")]),e._v(" "),a("th",{staticStyle:{width:"223px"},attrs:{colspan:"2"}},[e._v("每单审核平均用时")]),e._v(" "),a("th",{attrs:{rowspan:"2"}},[e._v("审核权限变更")])],2),e._v(" "),a("tr",e._l(e.sortBtnData,function(e,t){return a("sort-table-btn",{key:t,staticClass:"btn-rank",class:e.className,attrs:{"ch-name":e.ch,"key-name":e.key,"order-by":e.order_by}})}))]),e._v(" "),a("tbody",e._l(e.judge_resume,function(t,s){return a("tr",{key:s},["index-details-power-set"===e.formComponent?a("td",[a("a",{staticClass:"check spr",class:{choosed:e.deleteAuthorityId.includes(t.user_id)},attrs:{href:"javascript:;"},on:{click:function(a){e.batchSelect(t.user_id)}}})]):e._e(),e._v(" "),a("td",{on:{click:function(a){e.queryAccountsDetails(t.user_id,t.month_accuracy,t.week_accuracy,t.level)}}},[e._v(e._s(t.user_id))]),e._v(" "),a("td",[e._v(e._s(t.total_case_num))]),e._v(" "),a("td",[e._v(e._s(t.innocent_case_num))]),e._v(" "),a("td",[e._v(e._s(t.guilty_num))]),e._v(" "),a("td",[e._v(e._s(t.week_accuracy))]),e._v(" "),a("td",[e._v(e._s(t.month_accuracy))]),e._v(" "),a("td",[e._v(e._s(t.week_judge_period)+" min")]),e._v(" "),a("td",[e._v(e._s(t.month_judge_period)+" min")]),e._v(" "),a("td",[-1===t.level?a("a",{staticClass:"btn-remove",attrs:{href:"javascript:;"},on:{click:function(a){e.popShowDeleteAuthority(t.user_id,e.$op_type.resume)}}},[e._v("恢复权限")]):a("a",{staticClass:"btn-remove",attrs:{href:"javascript:;"},on:{click:function(a){e.popShowDeleteAuthority(t.user_id,e.$op_type.delete)}}},[e._v("取消权限")])])])}))]),e._v(" "),a("my-dialog",{on:{deleteAuthority:e.deleteAuthority}})],1)},staticRenderFns:[]};var y=a("VU/8")(f,v,!1,function(e){a("wpot")},"data-v-3f75e278",null).exports,b=a("RgdE"),g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"powerSet"},[a("div",{staticClass:"powerSet-box"},[a("p",{staticClass:"power-intr"},[e._v("审核权限变更")]),e._v(" "),a("a",{staticClass:"btn-removePower",class:{blue:e.batchSelectNum>0,gray:0===e.batchSelectNum},attrs:{href:"javascript:;"},on:{click:function(t){e.change("oneCancle")}}},[e._v("取消权限")]),e._v(" "),a("a",{staticClass:"btn-resetPower",class:{blue:e.batchSelectNum>0,gray:0===e.batchSelectNum},attrs:{href:"javascript:;"},on:{click:function(t){e.change("oneResume")}}},[e._v("恢复权限")]),e._v(" "),a("a",{staticClass:"btn-allRemove",attrs:{href:"javascript:;"},on:{click:function(t){e.change("allCancle")}}},[e._v("全部取消权限")]),e._v(" "),a("a",{staticClass:"btn-allReset",attrs:{href:"javascript:;"},on:{click:function(t){e.change("allResume")}}},[e._v("全部恢复权限")]),e._v(" "),a("a",{staticClass:"btn-return",attrs:{href:"javascript:;"},on:{click:function(t){e.$emit("changeFormComponent","index-details-form")}}},[e._v("返回")])])])},staticRenderFns:[]};var D=a("VU/8")({name:"IndexDetailsPowerSet",props:["batchSelectNum"],methods:{change:function(e){(e.indexOf("all")>-1||this.batchSelectNum>0)&&(this.$emit("powerSet",e),this.$store.commit("changeDialog","deleteAuthority"))}}},g,!1,function(e){a("Ffd2")},"data-v-cd6fd678",null).exports,$={name:"AllDataDetails",components:{MyHeader:a("U0O9").a,MyDialog:p.a,IndexDetailsPowerSet:D,MyPaginator:b.a,IndexDetailsTable:y,IndexDetailsForm:u},data:function(){return{formComponent:"index-details-form",pageName:"resume",batchSelectNum:0,powerSetEvent:""}},computed:r()({},Object(n.b)(["resumePageConfig","dialogName"])),methods:{changeFormComponent:function(e){this.formComponent=e},batchSelect:function(e){this.batchSelectNum=e},powerSet:function(e){this.powerSetEvent=e}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("my-header"),e._v(" "),a("index-details-form",{directives:[{name:"show",rawName:"v-show",value:"index-details-form"===e.formComponent,expression:"formComponent === 'index-details-form'"}],on:{changeFormComponent:e.changeFormComponent}}),e._v(" "),a("index-details-power-set",{directives:[{name:"show",rawName:"v-show",value:"index-details-power-set"===e.formComponent,expression:"formComponent === 'index-details-power-set'"}],attrs:{"batch-select-num":e.batchSelectNum},on:{changeFormComponent:e.changeFormComponent,powerSet:e.powerSet}}),e._v(" "),a("index-details-table",{attrs:{"form-component":e.formComponent,"power-set-event":e.powerSetEvent},on:{batchSelectNum:e.batchSelect}}),e._v(" "),a("my-paginator",{attrs:{"page-config":e.resumePageConfig,"page-name":e.pageName}})],1)},staticRenderFns:[]};var C=a("VU/8")($,w,!1,function(e){a("v8Jr")},"data-v-3d88adba",null);t.default=C.exports},Ffd2:function(e,t){},WTbO:function(e,t,a){"use strict";var s=a("mvHQ"),r=a.n(s),i=a("mw3O"),o=a.n(i),n=a("22O3"),c=a("qk/J");t.a={methods:{modify_user_auth:function(e,t,a,s){var i=this,m=null;(m={game_id:this.game_id,src_type:0,op_type:e,modify_users:t,dst_level:s,comment:a}).modify_users=r()(m.modify_users),m=o.a.stringify(m);Object(c.g)(m,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){0===t.ret?(i.$store.commit("changeDialog","none"),i.$store.commit("isReloadData",!0),Number(e)===i.$op_type.resume?(Object(n.b)("op_type",i.$op_type.delete),i.$store.commit("indexSelectedOpType",i.$op_type.delete)):(Object(n.b)("op_type",i.$op_type.resume),i.$store.commit("indexSelectedOpType",i.$op_type.resume))):t.ret===i.$code.NOAUTHORITY.num?i.$onlyTxtPopShow(i.$code.NOAUTHORITY.txt):t.ret===i.$code.INCORRECTFORMAT.num?i.$onlyTxtPopShow(i.$code.INCORRECTFORMAT.txt):t.ret===i.$code.REPETEOPERATION.num?i.$onlyTxtPopShow(i.$code.REPETEOPERATION.txt):t.ret===i.$code.LOGINTIMEOUT?i.$loginOut():i.$onlyTxtPopShow(i.$errTxt.setAuthErr)})}}}},v8Jr:function(e,t){},wpot:function(e,t){},xWVI:function(e,t){}});
//# sourceMappingURL=3.bacacb8c8a3c58572337.js.map